(function(c){c("WebApp",["hasher","crossroads"],function(a,g){"undefined"===typeof window&&(window={});var a=a||window.hasher,g=g||window.crossroads,d=null,c=function(){if(null!==d)throw Error("Can't instantiate more than one WebApp. Use WebApp.sharedInstance()");this.initialize()},h=function(){null===d&&(d=new c);return d};c.prototype={initialize:function(){},run:function(){var b=function(b){g.parse("/"+b)};a.initialized.add(b);a.changed.add(b);a.init()},location:new function(){return{set:function(b){b&&
b[0]&&"/"==b[0]&&(b=b.substr(1));a.setHash(b)},get:function(){},on:function(b,a,e,c){c=c||{greedy:!0,once:!1};void 0===e&&(e=a,a=b,b="");"function"==typeof e&&(e={"":e});for(var d in e){var f=e[d];if("function"==typeof f){var i=g.addRoute(b+a+d);if(c.once)var h=f,f=function(){h();i.dispose()};i.matched.add(f);i.greedy=c.greedy}else this.on(b+a,d,f)}},once:function(b,a,c){this.on(b,a,c,{once:!0,greedy:!0})}}},sharedInstance:h};return h()})})("function"===typeof define&&define.amd?define:function(c,
a){"undefined"!==typeof module&&module.exports?module.exports=a(require):window.WebApp="function"===typeof require?a(function(a){return window[a]}):a()});
