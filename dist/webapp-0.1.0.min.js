(function(d){d("webapp",["hasher","crossroads"],function(b,e){"undefined"===typeof window&&(window={});var b=b||window.hasher,e=e||window.crossroads,c=null,d=function(){if(null!==c)throw Error("Can't instantiate more than one WebApp. Use WebApp.sharedInstance()");this.initialize()},h=function(){null===c&&(c=new d);return c};d.prototype={initialize:function(){},run:function(){var a=function(a){e.parse("/"+a)};b.initialized.add(a);b.changed.add(a);b.init()},location:new function(){return{set:function(a){a&&
a[0]&&"/"==a[0]&&(a=a.substr(1));b.setHash(a)},get:function(){},on:function(a,b,f,c){c=c||{greedy:!0,once:!1};void 0===f&&(f=b,b=a,a="");"function"==typeof f&&(f={"":f});for(var d in f){var g=f[d];if("function"==typeof g){var i=e.addRoute(a+b+d);if(c.once)var h=g,g=function(){h();i.dispose()};i.matched.add(g);i.greedy=c.greedy}else this.on(a+b,d,g)}},once:function(a,b,c){this.on(a,b,c,{once:!0,greedy:!0})}}},sharedInstance:h};return h()})})("function"===typeof define&&define.amd?define:function(d,
b,e){"undefined"!==typeof module&&module.exports?module.exports=e(require):window.WebApp="function"===typeof require?e(function(b){return window[b]}):e()});
